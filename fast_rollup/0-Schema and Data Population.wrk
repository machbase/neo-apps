{"data":[{"id":"1716522067197825","contents":"# Rollup examples for fast statistic data management\r\n- [with Machbase Neo 18.0.19 and later](https://docs.machbase.com/neo/releases/)","height":76,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1716517848972940","contents":"drop table mybigdata cascade;\n-- drop table home cascade;\ncreate tag table if not exists mybigdata (\n    name varchar(32) primary key,\n    time datetime basetime,\n    value double summarized\n) with rollup tag_partition_count=1 ;","height":159,"lineHeight":19,"minimal":false,"type":"sql","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true,"brief":true},{"id":"1716522185313632","contents":"# Data polulation from 2023-01-01 ~ 2023-12-31\r\n- This takes a little more time (Be patient!)","height":42,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1716522111286193","contents":"FAKE( oscillator( freq(1/60/60/24/365, 2000), \n                  range(parseTime(\"2023-01-01 00:00:00\", \"DEFAULT\", tz(\"UTC\")), \n                        \"365d\", \n                        \"1s\") \n                )\n    )\nPUSHVALUE(0, 'pressure', 'name')\nAPPEND(table('mybigdata'))","height":167,"lineHeight":19,"minimal":false,"type":"tql","tqlType":"text","lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"171764288356063","contents":"# Force to complete rollup building\r\n- rollup table for HOUR must be executed once","height":51,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1717642914620217","contents":"exec rollup_force(_mybigdata_rollup_hour);","height":57,"lineHeight":19,"minimal":false,"type":"sql","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true,"brief":true},{"id":"1717642962162211","contents":"# Check the current rollup building status\r\n- Execute 'show rollupgap' in SHELL\r\n- the \"GAP\" field must be 0","height":113,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1716522977367268","contents":"example)\r\n```\r\nsys machbase-neo» show rollupgap;\r\n┌────────┬───────────────────────┬────────────────────────┬─────────────┬────────────────┬─────┬───────────┐\r\n│ ROWNUM │ SRC_TABLE             │ ROLLUP_TABLE           │ SRC_END_RID │ ROLLUP_END_RID │ GAP │ LAST_TIME │\r\n├────────┼───────────────────────┼────────────────────────┼─────────────┼────────────────┼─────┼───────────┤\r\n│      1 │ _MYBIGDATA_DATA_0     │ _MYBIGDATA_ROLLUP_SEC  │ 31536001    │ 31536001       │ 0   │ 0         │\r\n│      2 │ _MYBIGDATA_ROLLUP_MIN │ _MYBIGDATA_ROLLUP_HOUR │ 525614      │ 525614         │ 0   │ 0         │\r\n│      3 │ _MYBIGDATA_ROLLUP_SEC │ _MYBIGDATA_ROLLUP_MIN  │ 31536001    │ 31536001       │ 0   │ 0         │\r\n└────────┴───────────────────────┴────────────────────────┴─────────────┴────────────────┴─────┴───────────┘\r\n3 rows fetched.\r\n```","height":222,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1717643251207219","contents":"# Data Profile : Time Gap","height":35,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"171652261414266","contents":"select name, to_char(min_time), to_char(max_time) from v$mybigdata_stat;","height":36,"lineHeight":19,"minimal":false,"type":"sql","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true,"brief":false},{"id":"171764334019317","contents":"# Data Profile : Record  Count","height":200,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1717643269971141","contents":"select count(*) from mybigdata;","height":35,"lineHeight":19,"minimal":false,"type":"sql","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true,"brief":true},{"id":"1717643371171532","contents":"# Data Profile : Raw data from beginning","height":36,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1717643283130289","contents":"select name, to_char(time), value from mybigdata limit 10;","height":39,"lineHeight":19,"minimal":false,"type":"sql","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true,"brief":true},{"id":"1717643467679124","contents":"# Data Profile : Raw data from end\r\n","height":200,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1717643281437352","contents":"select /*+ SCAN_BACKWARD(mybigdata) */ name, to_char(time), value from mybigdata limit 10;","height":43,"lineHeight":19,"minimal":false,"type":"sql","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true,"brief":true}]}